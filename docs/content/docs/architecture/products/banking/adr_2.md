---
tags: [arch, abs]
title: ADR 2
weight: 12
draft: false
---

## **Architectural Decision Record (ADR)**

## **Контекст**
Ставки по депозитам хранятся в XLS-файлах, доступ к которым ограничен сотрудниками бэк-офиса.
Для консультирования клиентов кол-центра и партнёрского кол-центра необходимо предоставить актуальные ставки.
Кол-центр партнёра работает во внешней системе и может принимать ставки только в виде файлов.
Важно учесть возможные риски перегрузки кол-центра, организовать процесс передачи данных об актуальных ставках и учесть ограничения текущих технологий.

---

## **Use Cases**

| № | Действующие лица или системы      | Use Case                            | Описание                                                                                          |
|---|-----------------------------------|-------------------------------------|---------------------------------------------------------------------------------------------------|
| 1 | Сотрудник кол-центра              | Консультирование клиента            | Получение актуальных ставок из системы для консультации клиентов по депозитным предложениям.      |
| 2 | Система кол-центра                | Получение ставок                    | Интеграция с системой банка (через файловое хранилище S3) для периодической синхронизации ставок. |
| 3 | Сотрудник партнёрского кол-центра | Консультирование клиента по ставкам | Использование файлов с актуальными ставками для консультации клиентов.                            |
| 4 | Система банка (АБС - deposit-srv) | Экспорт ставок                      | Генерация файлов с актуальными ставками для партнёрского кол-центра.                              |

---

## **Функциональные требования**

| № | Код   | Система                  | Требование                                                                     |
|---|-------|--------------------------|--------------------------------------------------------------------------------|
| 1 | FR-13 | АБС                      | Система банка должна предоставлять актуальные ставки для кол-центра.           |
| 2 | FR-14 | Кол-центр партнера / АБС | Кол-центр партнёра должен иметь возможность выгружать файлы ставок.            |
| 3 | FR-15 | Кол-центр партнера / АБС | Актуальные ставки должны обновляться в кол-центре не реже одного раза в сутки. |

---

## **Нефункциональные требования**

| № | Требование                                                                                                       |
|---|------------------------------------------------------------------------------------------------------------------|
| 1 | Все данные, передаваемые между системами, должны быть зашифрованы.                                               |
| 2 | Время синхронизации ставок между системами не должно превышать 1 часа.                                           |
| 3 | Решение должно быть реализовано с использованием существующих технологий (MS SQL, Oracle) и навыков сотрудников. |
| 4 | Система должна поддерживать масштабируемость для работы с увеличением объёма данных и пользователей.             |

---

### **Альтернативы**

| Альтернатива                                   | Преимущества                                                        | Недостатки                                                                     |
|------------------------------------------------|---------------------------------------------------------------------|--------------------------------------------------------------------------------|
| 1. Реализовать API для партнёрского кол-центра | Удобный способ для автоматизации и уменьшения ручного труда.        | Невозможность реализации в рамках текущей системы партнёрского кол-центра.     |
| 2. Перенести данные о ставках в АБС            | Централизованное хранение ставок, удобство доступа для всех систем. | Увеличение нагрузки на базу данных АБС, требуются доработки и миграция данных. |
| 3. Использовать промежуточную базу данных      | Гибкость, минимальная нагрузка на АБС, синхронизация с XLS.         | Добавление нового компонента, сложности в сопровождении.                       |
  
